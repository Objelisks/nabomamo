// state graph for each emoji?
// function that handles each emoji separately

// emoji regex (\ud83c[\udf00-\udfff])|(\ud83d[\udc00-\ude4f])|(\ud83d[\ude80-\udeff])

/* operations
map
reduce
filter
every

rando emoji => filter => eat, play

*/
let fs = require('fs');
let Twitter = require('twitter');
let client = new Twitter(JSON.parse(fs.readFileSync('creds.json')));

let numoji = '\u20E3';
let randoSet = ['ðŸ','ðŸŽ±','ðŸ©','ðŸ’¦','ðŸ†','ðŸŽ“','ðŸ‘½','âœ¨','ðŸ¸','ðŸŽ²','ðŸš€','ðŸ’¾','ðŸ—¿','âš”','ðŸƒ'];

let parseEmoji = (e) => {
    return parseInt(e);
}

let reducers = {
    'eat': (pre, arr) => {
        return 'ðŸ’©';
    },
    'play': (pre, cur) => {
        return 'ðŸŽ¶';
    },
    'sum': (pre, cur) => {
        let p = parseEmoji(pre) || 1;
        let i = parseEmoji(cur) || 1;
        return (''+(p + i)).split('').join(numoji) + numoji;
    } // sum clocks, hamburger, beers,
};

let opNames = {
    'map': {
        'cook': {
            // poultry
            'ðŸ“':'ðŸ—','ðŸ”':'ðŸ—','ðŸ¦ƒ':'ðŸ—','ðŸ¦':'ðŸ—','ðŸ¤':'ðŸ—','ðŸ£':'ðŸ—','ðŸ¥':'ðŸ—',
            'ðŸ¦†':'ðŸ—','ðŸ•Š':'ðŸ—','ðŸ§':'ðŸ—','ðŸ¦…':'ðŸ—','ðŸ¦‰':'ðŸ—',
            'ðŸ¥š':'ðŸ³',
            // mammals
            'ðŸ·':'ðŸ¥“','ðŸ–':'ðŸ¥“',
            'ðŸ®':'ðŸ”','ðŸƒ':'ðŸ”','ðŸ‚':'ðŸ”','ðŸ„':'ðŸ”',
            'ðŸ—':'ðŸ–','ðŸ¦Œ':'ðŸ–','ðŸ':'ðŸ–','ðŸ‘':'ðŸ–','ðŸŽ':'ðŸ–','ðŸ´':'ðŸ–','ðŸ':'ðŸ–','ðŸ˜':'ðŸ–','ðŸ«':'ðŸ–','ðŸª':'ðŸ–',
            'ðŸ­':'ðŸ²','ðŸ¹':'ðŸ²','ðŸ°':'ðŸ²','ðŸ€':'ðŸ²','ðŸ':'ðŸ²','ðŸ‡':'ðŸ²','ðŸ¿':'ðŸ²',
            // seafood
            'ðŸ ':'ðŸ£','ðŸ¡':'ðŸ£','ðŸŸ':'ðŸ£','ðŸ¬':'ðŸ£','ðŸ³':'ðŸ£','ðŸ‹':'ðŸ£','ðŸ¦ˆ':'ðŸ£','ðŸ¦‘':'ðŸ£','ðŸ£':'ðŸ¥',
            'ðŸ¦€':'ðŸ¥˜','ðŸ™':'ðŸ¥˜','ðŸš':'ðŸ¥˜',
            //'ðŸŠ':'','ðŸ':'','ðŸ¸':'','ðŸ¦Ž':'',
            'ðŸ¢':'ðŸ²','ðŸ¦':'ðŸ¤',
            // insects etc.
            'ðŸ':'ðŸ¯',//'ðŸž':'','ðŸœ':'','ðŸ•·':'',
            // other animals
            'ðŸ•':'ðŸŒ­','ðŸ¶':'ðŸŒ­','ðŸ©':'ðŸŒ­',
            'ðŸ¦„':'ðŸŒˆ','ðŸ‰':'ðŸ’¥','ðŸ²':'ðŸ’¥',
            // veggies
            'ðŸŒ½':'ðŸ¿','ðŸ ':'ðŸŸ','ðŸ¥”':'ðŸŸ','ðŸŒ¾':'ðŸš','ðŸš':'ðŸ™',
            'ðŸ„':'ðŸ²','ðŸŽƒ':'ðŸ²','ðŸŒ°':'ðŸ¥˜','ðŸ†':'ðŸ¥˜','ðŸ¥œ':'ðŸ›','ðŸŒ¶':'ðŸ›','ðŸ…':'ðŸ',
            'ðŸŒ±':'ðŸ¥—','ðŸŒ¿':'ðŸ¥—','â˜˜':'ðŸ¥—','ðŸ€':'ðŸ¥—','ðŸ¥’':'ðŸ¥—','ðŸ¥•':'ðŸ¥—','ðŸ¥‘':'ðŸ¥—',
            'ðŸ™':'ðŸ¶',
            // fruit
            //'ðŸ':'','ðŸŽ':'','ðŸ':'',
            'ðŸ“':'ðŸ°','ðŸ’':'ðŸ°','ðŸŒ':'ðŸ¥ž','ðŸ':'ðŸ¥ž',
            'ðŸ‡':'ðŸ·','ðŸ':'ðŸ¹','ðŸŠ':'ðŸ¹','ðŸ‹':'ðŸ¹','ðŸ‰':'ðŸ¹','ðŸˆ':'ðŸ¹','ðŸ‘':'ðŸ¹','ðŸ¥':'ðŸ¹',
            // other plants
            'ðŸŒ´':'ðŸ”¥',
            // musical instruments
            'ðŸŽ·':'ðŸ”¥','ðŸŽ¸':'ðŸ”¥','ðŸŽ¹':'ðŸ”¥','ðŸŽº':'ðŸ”¥','ðŸŽ»':'ðŸ”¥','ðŸŽ™':'ðŸ”¥',
            // stellar objects
            'ðŸŒ•':'ðŸŒž','ðŸŒ–':'ðŸŒž','ðŸŒ—':'ðŸŒž','ðŸŒ˜':'ðŸŒž','ðŸŒ‘':'ðŸŒž','ðŸŒ’':'ðŸŒž','ðŸŒ“':'ðŸŒž','ðŸŒ”':'ðŸŒž',
            // people
            'ðŸ‘´':'ðŸ’€','ðŸ‘µ':'ðŸ’€','ðŸ’€':'ðŸ’€',
            // countries, regions
            'ðŸ‡®ðŸ‡¹':'ðŸ•','ðŸ‡°ðŸ‡·':'ðŸœ','ðŸ‡¯ðŸ‡µ':'ðŸ±','ðŸ‡¨ðŸ‡­':'ðŸ«','ðŸ‡²ðŸ‡½':'ðŸŒ®','ðŸ‡±ðŸ‡§':'ðŸŒ¯','ðŸ‡¹ðŸ‡·':'ðŸ¥™','ðŸ‡«ðŸ‡·':'ðŸ¥','ðŸ‡¹ðŸ‡­':'ðŸ›','ðŸ‡®ðŸ‡³':'ðŸ›','ðŸ‡²ðŸ‡¾':'ðŸ›','ðŸ‡¬ðŸ‡§':'ðŸ®','ðŸ‡ºðŸ‡¸':'ðŸ©',
            'ðŸ‡§ðŸ‡ª':'ðŸŸ','ðŸ‡ªðŸ‡¸':'ðŸ¥˜','ðŸ‡©ðŸ‡°':'ðŸ¥“','ðŸ‡¨ðŸ‡¦':'ðŸ¥ž',
            // other stuff
            'ðŸ¨':'â˜•ï¸','ðŸ¦':'â˜•ï¸','ðŸ§':'ðŸ’§','â˜ƒï¸':'ðŸ’§','â›„ï¸':'ðŸ’§','â„ï¸':'ðŸ’§','ðŸ’§':'ðŸŒ«',
            'ðŸ«':'ðŸ°','ðŸ§€':'ðŸ•','ðŸ·':'ðŸ¸','ðŸ¥›':'ðŸ®'
        },
        'wait': {
            'ðŸŒ¸':'ðŸ’','ðŸŒ¹':'ðŸ¥€','ðŸŒ·':'ðŸ¥€','ðŸŒ»':'ðŸ¥€','ðŸƒ':'ðŸ‚','ðŸŒ±':'ðŸŒ¿','ðŸŒ²':'ðŸŽ„',
            'ðŸŽƒ':'ðŸŽ…','ðŸ¤°':'ðŸ‘¶','ðŸ‘¶':'ðŸ‘¦ðŸ‘§','ðŸ‘§':'ðŸ‘©','ðŸ‘¦':'ðŸ‘¨','ðŸ‘©':'ðŸ‘¨','ðŸ‘¨':'ðŸ‘´','ðŸ‘©':'ðŸ‘µ','ðŸ’‘':'ðŸ’','ðŸ’':'ðŸ‘ª','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'','':'',
            'ðŸ¥š':'ðŸ£','ðŸ£':'ðŸ¤','ðŸ¤':'ðŸ”','ðŸ›':'ðŸ¦‹','ðŸ•·':'ðŸ•¸','ðŸ':'ðŸŽ','ðŸ¥›':'ðŸ§€','':'',
            'ðŸ’£':'ðŸ’¥','ðŸŽ‚':'ðŸ•¯',
            'â™ˆï¸':'â™‰ï¸','â™‰ï¸':'â™Šï¸','â™Šï¸':'â™‹ï¸','â™‹ï¸':'â™Œï¸','â™Œï¸':'â™ï¸','â™ï¸':'â™Žï¸','â™Žï¸':'â™ï¸','â™ï¸':'â™ï¸','â™ï¸':'â™‘ï¸','â™‘ï¸':'â™’ï¸','â™’ï¸':'â™“ï¸','â™“ï¸':'â™ˆï¸',
            'ðŸŒ‡':'ðŸŒ†','ðŸŒ†':'ðŸŒƒ','ðŸŒƒ':'ðŸŒ…','ðŸŒ…':'ðŸŒ‡','ðŸŒŒ':'ðŸ‘½',
            'ðŸ›«':'ðŸ›¬','ðŸ§':'ðŸ’¸',
            'ðŸ“':'ðŸ’€','ðŸŒ½':'ðŸŒ½','ðŸ®':'ðŸ’€','ðŸ’€':'ðŸ’€',
            'ðŸ‘¦':'ðŸ‘´','ðŸ‘§':'ðŸ‘µ','ðŸ£':'ðŸ“','ðŸŒ±':'ðŸŒ¿','ðŸŒ¿':'ðŸŒ´',
            'ðŸŽ·':'ðŸŽ·','ðŸŽ¸':'ðŸŽ¸','ðŸŽ¹':'ðŸŽ¹','ðŸŽº':'ðŸŽº','ðŸŽ»':'ðŸŽ»','ðŸŽ™':'ðŸŽ™',
            'ðŸŒ•':'ðŸŒ—','ðŸŒ—':'ðŸŒ‘','ðŸŒ‘':'ðŸŒ“','ðŸŒ“':'ðŸŒ•'
        },
        'flip': {
            'âœŠ':'ðŸ–•','ðŸ‘':'ðŸ‘Ž','ðŸ‘†':'ðŸ‘‡','ðŸ™‚':'ðŸ™ƒ','â³':'âŒ›ï¸','ðŸ“ˆ':'ðŸ“‰',
            // clock faces
            'ðŸ•':'ðŸ• ','ðŸ•‘':'ðŸ•Ÿ','ðŸ•’':'ðŸ•ž','ðŸ•“':'ðŸ•','ðŸ•”':'ðŸ•œ','ðŸ••':'ðŸ•§','ðŸ•–':'ðŸ•¦','ðŸ•—':'ðŸ•¥','ðŸ•˜':'ðŸ•¤','ðŸ•™':'ðŸ•£','ðŸ•š':'ðŸ•¢','ðŸ•›':'ðŸ•¡',
            // symbols
            'âŒ':'â­•ï¸','âŽ':'âœ…','ðŸš°':'ðŸš±','ðŸ””':'ðŸ”•',
            'â–¶ï¸':'â—€ï¸','ðŸ”¼':'ðŸ”½','â­':'â®','â©':'âª','â«':'â¬','âž¡ï¸':'â¬…ï¸','â¬†ï¸':'â¬‡ï¸','â†—ï¸':'â†™ï¸','â†˜ï¸':'â†–ï¸','â†ªï¸':'â†©ï¸','â¤´ï¸':'â¤µï¸',
            'ðŸ”º':'ðŸ”»','ðŸ“¥':'ðŸ“¤','ðŸ“ª':'ðŸ“«','ðŸ“¬':'ðŸ“­',
            'ðŸ†—':'ðŸ†–','ðŸ™†':'ðŸ™…',
            // flags
            'ðŸ‡®ðŸ‡ª':'ðŸ‡¨ðŸ‡®','ðŸ‡®ðŸ‡©':'ðŸ‡µðŸ‡±','ðŸ‡¨ðŸ‡´':'ðŸ‡¦ðŸ‡²',
            'ðŸ‡·ðŸ‡º':'ðŸ‡·ðŸ‡¸','ðŸ‡µðŸ‡­':'ðŸ‡¸ðŸ‡½'/*'ðŸ‡¨ðŸ‡¿'*/,'ðŸ‡­ðŸ‡º':'ðŸ‡¬ðŸ‡¶','ðŸ‡³ðŸ‡®':'ðŸ‡¸ðŸ‡»'/*ðŸ‡¦ðŸ‡·*/,'ðŸ‡¸ðŸ‡±':'ðŸ‡ºðŸ‡¿'/*ðŸ‡±ðŸ‡¸*/,
            'ðŸ‡³ðŸ‡´':/*'ðŸ‡«ðŸ‡´','ðŸ‡«ðŸ‡´':*/'ðŸ‡®ðŸ‡¸',
            'ðŸ‡»ðŸ‡³':'ðŸ‡»ðŸ‡³','ðŸ‡¸ðŸ‡´':'ðŸ‡¸ðŸ‡´','ðŸ‡¨ðŸ‡­':'ðŸ‡¨ðŸ‡­','ðŸ‡²ðŸ‡°':'ðŸ‡²ðŸ‡°','ðŸ‡¬ðŸ‡§':'ðŸ‡¬ðŸ‡§','ðŸ‡¬ðŸ‡ª':'ðŸ‡¬ðŸ‡ª','ðŸ‡¯ðŸ‡²':'ðŸ‡¯ðŸ‡²'
        },
        'turn': {
            'ðŸŒŽ':'ðŸŒ','ðŸŒ':'ðŸŒ','ðŸŒ':'ðŸŒŽ',
            'â†•ï¸':'â†”ï¸','â¬†ï¸':'â†—ï¸','â†—ï¸':'âž¡ï¸','âž¡ï¸':'â†˜ï¸','â†˜ï¸':'â¬‡ï¸','â¬‡ï¸':'â†™ï¸','â†™ï¸':'â¬…ï¸','â¬…ï¸':'â†–ï¸','â†–ï¸':'â¬†ï¸',
            'â–¶ï¸':'ðŸ”½','ðŸ”½':'â—€ï¸','â—€ï¸':'ðŸ”¼','ðŸ”¼':'â–¶ï¸','â©':'â¬','â¬':'âª','âª':'â«','â«':'â©',
            // vehicles
            'ðŸš—':'ðŸš˜','ðŸš•':'ðŸš–','ðŸšŒ':'ðŸš','ðŸš“':'ðŸš”','ðŸš¦':'ðŸš¥',
            // flags
            'ðŸ‡³ðŸ‡±':'ðŸ‡«ðŸ‡·','ðŸ‡³ðŸ‡ª':'ðŸ‡®ðŸ‡ª'/*ðŸ‡¨ðŸ‡®*/,'ðŸ‡®ðŸ‡¹':'ðŸ‡®ðŸ‡·','ðŸ‡µðŸ‡ª':'ðŸ‡¦ðŸ‡¹','ðŸ‡²ðŸ‡±':'ðŸ‡¬ðŸ‡­','ðŸ‡¨ðŸ‡¦':'ðŸ‡±ðŸ‡§','ðŸ‡¬ðŸ‡¹':'ðŸ‡­ðŸ‡³',
            'ðŸ‡»ðŸ‡³':'ðŸ‡»ðŸ‡³','ðŸ‡¸ðŸ‡´':'ðŸ‡¸ðŸ‡´','ðŸ‡¨ðŸ‡­':'ðŸ‡¨ðŸ‡­','ðŸ‡²ðŸ‡°':'ðŸ‡²ðŸ‡°','ðŸ‡¬ðŸ‡§':'ðŸ‡¬ðŸ‡§','ðŸ‡¬ðŸ‡ª':'ðŸ‡¬ðŸ‡ª'
        },
        'increase': {
            'ðŸŽ‡':'ðŸŽ†','ðŸ ':'ðŸ˜','âŒšï¸':'â°','â°':'ðŸ•°','ðŸ’€':'â˜ ï¸','ðŸ”Ž':'ðŸ”¬','ðŸ”':'ðŸ”¬','ðŸ‘“':'ðŸ”­','ðŸ“Ž':'ðŸ–‡',
            'ðŸ‘›':'ðŸ‘','ðŸ‘':'ðŸ‘œ','ðŸ‘œ':'ðŸŽ’','ðŸŽ’':'ðŸ’¼',
            'ðŸ˜‡':'ðŸ‘¼ðŸ¼',
            'ðŸ’µ':'ðŸ’¶','ðŸ’¶':'ðŸ’·',
            'ðŸ’¿':'ðŸ“€','ðŸ’»':'ðŸ–¥',
            'ðŸ”¥':'ðŸ’¥','ðŸ’§':'ðŸ’¦','â›…ï¸':'â˜€ï¸','ðŸŒ¤':'ðŸŒ¥','ðŸŒ¥':'ðŸŒ¦','â˜ï¸':'ðŸŒ§','ðŸŒ¦':'ðŸŒ§','ðŸŒ§':'â›ˆ','ðŸŒ©':'â›ˆ','âš¡ï¸':'ðŸŒ©','â„ï¸':'ðŸŒ¨',
            'â›„ï¸':'â˜ƒï¸','â˜‚ï¸':'â˜”ï¸','â­ï¸':'ðŸŒŸ',
            'ðŸ”‡':'ðŸ”‰','ðŸ”‰':'ðŸ”Š','ðŸ”…':'ðŸ”†','âž°':'âž¿',
            'â•':'â—ï¸','â—ï¸':'â€¼ï¸','â”':'â“','â“':'â‰ï¸',
            'â–¶ï¸':'â©','â©':'â­','â—€ï¸':'âª','âª':'â®','ðŸ”¼':'â«','ðŸ”½':'â¬',
            'ðŸ”¤':'ðŸ”¡','ðŸ”¡':'ðŸ” ',
            'ðŸŽµ':'ðŸŽ¶',
            'ðŸ¬':'ðŸ­','ðŸ°':'ðŸŽ‚','ðŸ´':'ðŸ½','ðŸ¥‚':'ðŸ¾',
            'ðŸ““':'ðŸ“š','ðŸ“•':'ðŸ“š','ðŸ“—':'ðŸ“š','ðŸ“˜':'ðŸ“š','ðŸ“™':'ðŸ“š','ðŸ“”':'ðŸ“š','ðŸ“’':'ðŸ“š',
            'ðŸ“¦':'ðŸŽ','ðŸ•¯':'ðŸŽ‚',
            'ðŸ¬':'ðŸ­','ðŸ°':'ðŸŽ‚','ðŸ´':'ðŸ½','ðŸ¥‚':'ðŸ¾',
            'ðŸ‘Œ':'â˜ï¸','â˜ï¸':'âœŒï¸','âœŒï¸':'ðŸ––','ðŸ––':'ðŸ–',
            'ðŸº':'ðŸ»','ðŸ‘':'ðŸ‘€','ðŸ‘¤':'ðŸ‘¥','ðŸ‘©':'ðŸ‘­','ðŸ‘¨':'ðŸ‘¬','ðŸ‘§':'ðŸ‘¯','ðŸš¶':'ðŸƒ',
            '0âƒ£':'1âƒ£','1âƒ£':'2âƒ£','2âƒ£':'3âƒ£','3âƒ£':'4âƒ£','4âƒ£':'5âƒ£','5âƒ£':'6âƒ£','6âƒ£':'7âƒ£','7âƒ£':'8âƒ£','8âƒ£':'9âƒ£','9âƒ£':'ðŸ”Ÿ',
            'âœ¡ï¸':'ðŸ”¯','âœï¸':'â˜¦ï¸','â¤ï¸':'ðŸ’•','ðŸ’•':'ðŸ’ž',
            // vehicles
            'ðŸš—':'ðŸŽ','ðŸš•':'ðŸš','ðŸš':'ðŸšŒ','ðŸšœ':'ðŸš›','ðŸšš':'ðŸš›','ðŸ›´':'ðŸš²','ðŸš²':'ðŸ›µ','ðŸ›µ':'ðŸ','ðŸ':'ðŸš—',
            'âš“ï¸':'ðŸš¢','ðŸš¤':'ðŸ›¥','â›µï¸':'ðŸ›¥','ðŸ›¥':'ðŸš¢','â›´':'ðŸš¢','ðŸš¢':'ðŸ›³',
            'ðŸŽ ':'ðŸŽ¡','ðŸŽ¡':'ðŸŽ¢',
            'ðŸ›©':'âœˆï¸','âœˆï¸':'ðŸš€',
            'ðŸ‘®':'ðŸš“','ðŸ‘·':'ðŸ—',
            // face to body
            'ðŸ½':'ðŸ·','ðŸ·':'ðŸ–','ðŸµ':'ðŸ’','ðŸ¶':'ðŸ•','ðŸ±':'ðŸˆ','ðŸ­':'ðŸ','ðŸ°':'ðŸ‡','ðŸ®':'ðŸ„','ðŸ¯':'ðŸ…','ðŸ´':'ðŸŽ','ðŸ²':'ðŸ‰',
            'â˜˜':'ðŸ€','ðŸŒ»':'ðŸ’','ðŸŒ¹':'ðŸ’','ðŸŒ·':'ðŸ’','ðŸŒ¼':'ðŸ’',
            // 'ðŸ‡©ðŸ‡ª':'ðŸ‡ªðŸ‡º',
            // flags
            'ðŸ‡®ðŸ‡©':'ðŸ‡¸ðŸ‡¬','ðŸ‡»ðŸ‡³':'ðŸ‡¹ðŸ‡·','ðŸ‡¹ðŸ‡·':'ðŸ‡¸ðŸ‡¬','ðŸ‡¹ðŸ‡³':'ðŸ‡¸ðŸ‡¬','ðŸ‡²ðŸ‡¨':'ðŸ‡±ðŸ‡»',
            'ðŸ‡µðŸ‡±':'ðŸ‡¨ðŸ‡¿','ðŸ‡¨ðŸ‡¿':'ðŸ‡¨ðŸ‡±','ðŸ‡¼ðŸ‡¸':'ðŸ‡¨ðŸ‡±','ðŸ‡¨ðŸ‡±':'ðŸ‡µðŸ‡·','ðŸ‡µðŸ‡·':'ðŸ‡±ðŸ‡·','ðŸ‡±ðŸ‡·':'ðŸ‡²ðŸ‡¾','ðŸ‡²ðŸ‡¾':'ðŸ‡ºðŸ‡¸',
            'ðŸ‡§ðŸ‡­':'ðŸ‡¶ðŸ‡¦','ðŸ‡®ðŸ‡²':'ðŸ‡­ðŸ‡°',
            'ðŸ‡¾ðŸ‡ª':'ðŸ‡ªðŸ‡¬','ðŸ‡ªðŸ‡¬':'ðŸ‡¸ðŸ‡¾','ðŸ‡¸ðŸ‡¾':'ðŸ‡®ðŸ‡¶','ðŸ‡®ðŸ‡¶':'ðŸ‡¸ðŸ‡©','ðŸ‡µðŸ‡¸':'ðŸ‡¯ðŸ‡´','ðŸ‡¯ðŸ‡´':'ðŸ‡ªðŸ‡­',/* ðŸ‡¦ðŸ‡ª ðŸ‡°ðŸ‡¼ */
            'ðŸ‡¬ðŸ‡³ ðŸ‡¬ðŸ‡¼ ðŸ‡¨ðŸ‡¬ ðŸ‡¬ðŸ‡­ ðŸ‡¬ðŸ‡¾ ðŸ‡±ðŸ‡¹ ðŸ‡²ðŸ‡± ðŸ‡¨ðŸ‡² ðŸ‡§ðŸ‡« ðŸ‡²ðŸ‡² ðŸ‡¸ðŸ‡³ ðŸ‡¸ðŸ‡¹ ðŸ‡¹ðŸ‡¬ ðŸ‡§ðŸ‡¯ ðŸ‡§ðŸ‡´ ðŸ‡¬ðŸ‡« ðŸ‡ªðŸ‡¹':'',
            'ðŸ‡©ðŸ‡°':'ðŸ‡³ðŸ‡´','ðŸ‡«ðŸ‡®':'ðŸ‡«ðŸ‡´','ðŸ‡ºðŸ‡¾':'ðŸ‡¬ðŸ‡·','ðŸ‡±ðŸ‡®':'ðŸ‡­ðŸ‡¹',
            'ðŸ‡³ðŸ‡±':'ðŸ‡µðŸ‡¾','ðŸ‡µðŸ‡¾':'ðŸ‡­ðŸ‡·','ðŸ‡·ðŸ‡º':'ðŸ‡¸ðŸ‡®','ðŸ‡¸ðŸ‡®':'ðŸ‡¸ðŸ‡°'
            'ðŸ‡»ðŸ‡³':'ðŸ‡¨ðŸ‡³'/*ðŸ‡§ðŸ‡«*/,'ðŸ‡»ðŸ‡ª':'ðŸ‡¨ðŸ‡´','ðŸ‡¨ðŸ‡´':'ðŸ‡ªðŸ‡¨',
            'ðŸ‡µðŸ‡ª':'ðŸ‡¨ðŸ‡¦','ðŸ‡®ðŸ‡¹':'ðŸ‡²ðŸ‡½','ðŸ‡¦ðŸ‡¹':'ðŸ‡±ðŸ‡§','ðŸ‡³ðŸ‡¬':'ðŸ‡³ðŸ‡«','ðŸ‡²ðŸ‡¬':'ðŸ‡´ðŸ‡²','ðŸ‡­ðŸ‡º':'ðŸ‡¹ðŸ‡¯','ðŸ‡®ðŸ‡·':'ðŸ‡¬ðŸ‡¶'
        }
    },
    'filter': {
        'isVegetarian': ['ðŸ’©','ðŸ','ðŸŽ','ðŸ','ðŸŠ','ðŸ‹','ðŸŒ','ðŸ‰','ðŸ‡','ðŸ“','ðŸˆ','ðŸ’','ðŸ‘','ðŸ','ðŸ…','ðŸ†','ðŸŒ¶','ðŸŒ½','ðŸ ','ðŸ¯','ðŸž','ðŸŸ','ðŸ','ðŸœ','ðŸ¥','ðŸ›','ðŸ™','ðŸš','ðŸ˜','ðŸ°','ðŸŽ‚','ðŸ®','ðŸ¬','ðŸ­','ðŸ«','ðŸ¿','ðŸ©','ðŸª','ðŸº','ðŸ»','ðŸ·','ðŸ¸','ðŸ¹','ðŸ¾','ðŸ¶','ðŸµ'],
        'isMusical': ['ðŸŽ·','ðŸŽ¸','ðŸŽ¹','ðŸŽº','ðŸŽ»','ðŸŽ™']
    },
    'reduce': {
        'eat': ['ðŸ—','ðŸ¿','ðŸ”','ðŸ','ðŸŽ','ðŸ','ðŸŠ','ðŸ‹','ðŸŒ','ðŸ‰','ðŸ‡','ðŸ“','ðŸˆ','ðŸ’','ðŸ‘','ðŸ','ðŸ…','ðŸ†','ðŸŒ¶','ðŸŒ½','ðŸ ','ðŸ¯','ðŸž','ðŸŸ','ðŸ','ðŸœ','ðŸ¥','ðŸ›','ðŸ™','ðŸš','ðŸ˜','ðŸ°','ðŸŽ‚','ðŸ®','ðŸ¬','ðŸ­','ðŸ«','ðŸ¿','ðŸ©','ðŸª','ðŸº','ðŸ»','ðŸ·','ðŸ¸','ðŸ¹','ðŸ¾','ðŸ¶','ðŸµ'],
        'play': ['ðŸŽ·','ðŸŽ¸','ðŸŽ¹','ðŸŽº','ðŸŽ»','ðŸŽ™'],
        'sum': ['0âƒ£','1âƒ£','2âƒ£','3âƒ£','4âƒ£','5âƒ£','6âƒ£','7âƒ£','8âƒ£','9âƒ£',
                'ðŸ•','ðŸ• ','ðŸ•‘','ðŸ•Ÿ','ðŸ•’','ðŸ•ž','ðŸ•“','ðŸ•','ðŸ•”','ðŸ•œ','ðŸ••','ðŸ•§','ðŸ•–','ðŸ•¦','ðŸ•—','ðŸ•¥','ðŸ•˜','ðŸ•¤','ðŸ•™','ðŸ•£','ðŸ•š','ðŸ•¢','ðŸ•›','ðŸ•¡']
    }
};

opNames.filter = Object.keys(opNames.filter).reduce((pre, cur) => {
    pre[cur] = opNames.filter[cur].reduce((pre, cur) => {pre[cur] = true; return pre;}, {});
    return pre;
}, {});

opNames.reduce = Object.keys(opNames.reduce).reduce((pre, cur) => {
    pre[cur] = opNames.reduce[cur].reduce((pre, cur) => {pre[cur] = true; return pre;}, {});
    return pre;
}, {});


let opTypes = {
    'map': (mapFunc) => {
        return (arr) => {
            return arr.map((each) => {
                return opNames.map[mapFunc][each];
            });
        };
    },

    'filter': (filterFunc) => {
        return (arr) => {
            return arr.filter((each) => {
                return opNames.filter[filterFunc][each];
            });
        }
    },

    'reduce': (reducerFunc) => {
        return (arr) => {
            return [arr.reduce(reducers[reducerFunc])];
        };
    }
};

let pickRandom = (arr) => {
    return arr[Math.floor(Math.random()*arr.length)];
};

let pickSome = (arr, n) => {
    let out = [];
    let copy = arr.slice();
    for(let i=0; i<n; i++) {
        let grab = copy.splice(Math.floor(Math.random()*copy.length), 1);
        out = out.concat(grab);
    }
    return out;
};

let pickOperation = (data) => {
    if(data) {
        let opFunc = pickRandom(Object.keys(opTypes));
        let opName = pickRandom(Object.keys(opNames[opFunc]));
        return {func: opFunc, name: opName};
    } else {
        let opFunc = pickRandom(Object.keys(opTypes));
        let opName = pickRandom(Object.keys(opNames[opFunc]));
        return {func: opFunc, name: opName};
    }
};

let pickStartingEmoji = (operation) => {
    let goodSet = pickSome(Object.keys(opNames[operation.func][operation.name]), 3);
    if(operation.func === 'filter') {
        let badSet = pickSome(randoSet, 2);
        return goodSet.concat(badSet);
    }
    return goodSet;
};

let render = (input, output, type, name) => {
    return `[${input}].${type}(${name}) => [${output}]`;
};

let generateTweet = () => {
    let iterations = 1+Math.floor(Math.random()*3);
    let operation = pickOperation(); // [map(cook), filter(isVegetarian), reduce(eat)]

    let tweetText = '';
    let data = pickStartingEmoji(operation); // pick emoji compatible with op
    for(let i=0; i<iterations; i++) {
        if(data.length === 0) {
            break;
        }
        let output = (opTypes[operation.func])(operation.name)(data);
        let renderText = render(data, output, operation.func, operation.name) + '\n';
        tweetText += renderText;
        data = output;
        operation = pickOperation(data); // pick operation compatible with output
    }
    return tweetText;
}

let tweet = generateTweet();
console.log(tweet);
client.post('statuses/update', {status: tweet}, (error, tweet) => {
    if(error) throw error;
    console.log('tweet success');
});
